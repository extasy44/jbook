[{"/Users/heejunseo/Desktop/React-e/react-type/jbook/src/index.tsx":"1","/Users/heejunseo/Desktop/React-e/react-type/jbook/src/plugins/unpkg-path-plugin.ts":"2","/Users/heejunseo/Desktop/React-e/react-type/jbook/src/plugins/fetch-plugin.ts":"3","/Users/heejunseo/Desktop/React-e/react-type/jbook/src/components/code-editor.tsx":"4"},{"size":2243,"mtime":1611492506628,"results":"5","hashOfConfig":"6"},{"size":830,"mtime":1611234606601,"results":"7","hashOfConfig":"6"},{"size":1797,"mtime":1611235916042,"results":"8","hashOfConfig":"6"},{"size":2048,"mtime":1611493696608,"results":"9","hashOfConfig":"6"},{"filePath":"10","messages":"11","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"12"},"bnj4nj",{"filePath":"13","messages":"14","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"15","messages":"16","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"17","messages":"18","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/heejunseo/Desktop/React-e/react-type/jbook/src/index.tsx",["19","20"],"import 'bulmaswatch/superhero/bulmaswatch.min.css';\nimport * as esbuild from 'esbuild-wasm';\nimport { useState, useEffect, useRef } from 'react';\nimport ReactDOM from 'react-dom';\nimport { unpkgPathPlugin } from './plugins/unpkg-path-plugin';\nimport { fetchPlugin } from './plugins/fetch-plugin';\nimport CodeEditor from './components/code-editor';\n\nconst App = () => {\n  const ref = useRef<any>();\n  const iframe = useRef<any>();\n  const [input, setInput] = useState('');\n  const [code, setCode] = useState('');\n\n  const startService = async () => {\n    ref.current = await esbuild.startService({\n      worker: true,\n      wasmURL: 'https://unpkg.com/esbuild-wasm@0.8.27/esbuild.wasm',\n    });\n  };\n  useEffect(() => {\n    startService();\n  }, []);\n\n  const onClick = async () => {\n    if (!ref.current) {\n      return;\n    }\n\n    const result = await ref.current.build({\n      entryPoints: ['index.js'],\n      bundle: true,\n      write: false,\n      plugins: [unpkgPathPlugin(), fetchPlugin(input)],\n      define: {\n        'process.env.NODE_ENV': '\"production\"',\n        global: 'window',\n      },\n    });\n\n    // setCode(result.outputFiles[0].text);\n    iframe.current.contentWindow.postMessage(result.outputFiles[0].text, '*');\n  };\n\n  const html = `\n    <html>\n      <head></head>\n      <body>\n        <div id=\"root\"></div>\n        <script>\n          window.addEventListener('message', (event) => {\n            try {\n              eval(event.data);\n            } catch (err) {\n              const root = document.querySelector('#root');\n              root.innerHTML = '<div style=\"color: red;\"><h4>Runtime Error</h4>' + err + '</div>';\n              console.error(err);\n            }\n          }, false);\n        </script>\n      </body>\n    </html>\n  `;\n\n  return (\n    <div>\n      <CodeEditor\n        initialValue=\"const a = 1\"\n        onChange={(value) => setInput(value)}\n      />\n      <textarea\n        value={input}\n        onChange={(e) => setInput(e.target.value)}\n      ></textarea>\n      <div>\n        <button onClick={onClick}>Submit</button>\n      </div>\n      <pre>{code}</pre>\n      <iframe ref={iframe} sandbox=\"allow-scripts\" srcDoc={html} />\n    </div>\n  );\n};\n\nReactDOM.render(<App />, document.querySelector('#root'));\n","/Users/heejunseo/Desktop/React-e/react-type/jbook/src/plugins/unpkg-path-plugin.ts",[],"/Users/heejunseo/Desktop/React-e/react-type/jbook/src/plugins/fetch-plugin.ts",[],"/Users/heejunseo/Desktop/React-e/react-type/jbook/src/components/code-editor.tsx",[],{"ruleId":"21","severity":1,"message":"22","line":13,"column":16,"nodeType":"23","messageId":"24","endLine":13,"endColumn":23},{"ruleId":"25","severity":1,"message":"26","line":79,"column":7,"nodeType":"27","endLine":79,"endColumn":68},"@typescript-eslint/no-unused-vars","'setCode' is assigned a value but never used.","Identifier","unusedVar","jsx-a11y/iframe-has-title","<iframe> elements must have a unique title property.","JSXOpeningElement"]